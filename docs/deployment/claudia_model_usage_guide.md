# Claudiaä¸“å±Ollamaæ¨¡å‹ä½¿ç”¨æŒ‡å— (V2 - è‡ªç„¶å¯¹è¯ä¼˜åŒ–ç‰ˆ)

## ğŸ“‹ æ¨¡å‹æ¦‚è¿°

**æ¨¡å‹åç§°**: `claudia-optimized:latest` (V2)  
**åŸºç¡€æ¨¡å‹**: Qwen2.5-7B  
**ä¼˜åŒ–ç­–ç•¥**: è‡ªç„¶æ—¥è¯­å¯¹è¯ + ç®€æ´å“åº”  
**æ›´æ–°æ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')

## ğŸ†• V2ç‰ˆæœ¬é‡å¤§æ”¹è¿›

### âœ… è§£å†³çš„é—®é¢˜
- âŒ **è¿‡åº¦å­¦æœ¯åŒ–** â†’ âœ… è‡ªç„¶å¯¹è¯é£æ ¼
- âŒ **åå­—é”™è¯¯**(ã‚¯ãƒ©ã‚¦ãƒ‡ã‚£ã‚¢) â†’ âœ… æ­£ç¡®åå­—(ãã‚‰)
- âŒ **å›ç­”å†—é•¿** â†’ âœ… ç®€æ´æ˜äº†
- âŒ **æ ¼å¼ç¬¦å·**(ã€ã€‘ã€- ç­‰) â†’ âœ… çº¯æ–‡æœ¬å›ç­”

### ğŸ”§ ä¼˜åŒ–å‚æ•° (V2)
```
Temperature: 0.2 (æ›´è‡ªç„¶çš„å›ç­”)
Top-P: 0.8 (å¢åŠ å¤šæ ·æ€§)
Top-K: 25 (å¹³è¡¡ç²¾ç¡®æ€§)
Context: 2048 tokens (ARM64ä¼˜åŒ–)
```

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### âœ… å·²éªŒè¯åŠŸèƒ½
- âœ… **èº«ä»½ç¡®è®¤**: ãã‚‰(Kura) - ç®€æ´å‹å¥½çš„æœºå™¨äººåŠ©æ‰‹
- âœ… **ç®€æ´å“åº”**: å„ç±»å‘½ä»¤éƒ½æœ‰é€‚å½“é•¿åº¦é™åˆ¶
- âœ… **è‡ªç„¶æ—¥è¯­**: å»é™¤å­¦æœ¯æ€§ï¼Œä½¿ç”¨æ—¥å¸¸å¯¹è¯é£æ ¼
- âœ… **çº¯æ–‡æœ¬è¾“å‡º**: æ— markdownæ ¼å¼ç¬¦å·å¹²æ‰°
- âœ… **å“åº”åˆ†çº§**: ç´§æ€¥/æ§åˆ¶/çŠ¶æ€/å¯¹è¯å››ç§æ¨¡å¼

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬å¯åŠ¨
```bash
# å¯åŠ¨ä¼˜åŒ–ç‰ˆClaudiaæ¨¡å‹
ollama run claudia-optimized

# æˆ–è€…é€šè¿‡ç®¡é“è¾“å…¥
echo "å‰ã«é€²ã‚€" | ollama run claudia-optimized
```

### ä¾¿æ·å¯åŠ¨è„šæœ¬
```bash
# ä½¿ç”¨ä¾¿æ·è„šæœ¬
./scripts/start_claudia.sh -i     # äº¤äº’æ¨¡å¼
./scripts/start_claudia.sh -t     # å¿«é€Ÿæµ‹è¯•
./scripts/start_claudia.sh -s     # ç³»ç»ŸçŠ¶æ€
```

## ğŸ“Š V2ç‰ˆæœ¬å“åº”æ•ˆæœå¯¹æ¯”

| åœºæ™¯ | V1å›ç­”(é—®é¢˜ç‰ˆ) | V2å›ç­”(ä¼˜åŒ–ç‰ˆ) | æ”¹è¿›æ•ˆæœ |
|------|---------------|---------------|----------|
| **èº«ä»½ä»‹ç»** | "ç§ã¯ã‚¯ãƒ©ã‚¦ãƒ‡ã‚£ã‚¢ã¨ç”³ã—ã¾ã™ã€‚ã‚¸ã‚§ãƒƒãƒˆã‚½ãƒ³ãƒ»ã‚ªãƒªãƒ³NXæ­è¼‰ã®..." (91å­—) | "ç§ã¯ãã‚‰ã§ã™ã€ã‚ãªãŸã®ãƒ­ãƒœãƒƒãƒˆã®ãŠæ‰‹ä¼ã„AIã§ã™ã€‚" (26å­—) | âœ… 65%å‹ç¼© |
| **æ§åˆ¶å‘½ä»¤** | "ã€åˆ¶å¾¡ã€‘å‰é€²ã‚³ãƒãƒ³ãƒ‰ã‚’ç¢ºèªã—ã¾ã—ãŸ - ãƒ­ãƒœãƒƒãƒˆãŒå‰æ–¹ã«ç§»å‹•ã—ã¾ã™" (33å­—) | "å‰ã«é€²ã¿ã¾ã™ã€‚" (6å­—) | âœ… 82%å‹ç¼© |
| **LEDæ§åˆ¶** | "ã€åˆ¶å¾¡ã€‘LEDã‚’ç‚¹ç¯ã—ã¾ã™ - LEDãŒæ˜ã‚‹ããªã‚Šã¾ã™ã€‚" (26å­—) | "LEDã‚’ç‚¹ã‘ã¾ã—ãŸã€‚" (9å­—) | âœ… 65%å‹ç¼© |
| **ç´§æ€¥åœæ­¢** | "ã€ç·Šæ€¥ã€‘å…¨ãƒ¢ãƒ¼ã‚¿ãƒ¼åœæ­¢ - å®‰å…¨ãƒ¢ãƒ¼ãƒ‰ã«ç§»è¡Œã—ã¾ã—ãŸ" (25å­—) | "ç·Šæ€¥åœæ­¢ã—ã¾ã—ãŸã€‚å®‰å…¨ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã—ãŸã€‚" (20å­—) | âœ… 20%å‹ç¼© |
| **çŠ¶æ€æŸ¥è¯¢** | "ã€çŠ¶æ…‹ã€‘ROS2ãƒãƒ¼ãƒ‰æ­£å¸¸å‹•ä½œä¸­ - CPUä½¿ç”¨ç‡30%, ãƒ¡ãƒ¢ãƒª4.5GB..." (50+å­—) | "ROS2ã¯æ­£å¸¸ã«å‹•ã„ã¦ã„ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¯70%ã§ã™ã€‚" (28å­—) | âœ… 44%å‹ç¼© |
| **æŠ€æœ¯è§£é‡Š** | å†—é•¿å­¦æœ¯è§£é‡Š + æ ¼å¼ç¬¦å· + ç¤ºä¾‹åˆ—è¡¨ (200+å­—) | "ROS2ã®ãƒãƒ¼ãƒ‰ã¯ã€ãã‚Œãã‚Œç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã€ç‰¹å®šã®æ©Ÿèƒ½ã‚’æ‹…å½“ã—ã¾ã™ã€‚" (37å­—) | âœ… 80%+å‹ç¼© |

## ğŸŒ æ—¥è¯­è¾“å‡ºéªŒè¯

### è‹±è¯­è¾“å…¥æµ‹è¯•
```bash
Input: "What is your name?"
V1 Output: "ç§ã®åå‰ã¯ã‚¯ãƒ©ã‚¦ãƒ‡ã‚£ã‚¢ã§ã™ã€‚ç§ã¯ã‚¸ã‚§ãƒƒãƒˆã‚½ãƒ³ãƒ»ã‚ªãƒªãƒ³NXæ­è¼‰ã®..." (å†—é•¿)
V2 Output: "ç§ã¯ãã‚‰ã§ã™ã€‚" (ç®€æ´)
Result: âœ… å¤§å¹…æ”¹è¿›
```

## ğŸ”„ ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ

### Pythonæ¥å£æ›´æ–°
```python
def call_kura_optimized(command):
    """è°ƒç”¨ä¼˜åŒ–åçš„ãã‚‰æ¨¡å‹"""
    response = requests.post('http://localhost:11434/api/generate', 
        json={
            'model': 'claudia-optimized',
            'prompt': command,
            'stream': False
        }
    )
    return response.json()['response']

# ä½¿ç”¨ç¤ºä¾‹
result = call_kura_optimized("LEDç‚¹ç¯ã—ã¦ãã ã•ã„")
print(result)  # è¾“å‡º: "LEDã‚’ç‚¹ã‘ã¾ã—ãŸã€‚"
```

### å“åº”é•¿åº¦ç›‘æ§
```python
def monitor_response_length(command):
    """ç›‘æ§å“åº”é•¿åº¦ç¡®ä¿ç®€æ´æ€§"""
    response = call_kura_optimized(command)
    length = len(response)
    
    # è®¾å®šç†æƒ³é•¿åº¦é™åˆ¶
    if "ç·Šæ€¥" in command and length > 30:
        print(f"âš ï¸ ç´§æ€¥å“åº”è¿‡é•¿: {length}å­—ç¬¦")
    elif any(word in command for word in ["å‰é€²", "LED", "åº§ã‚‹"]) and length > 50:
        print(f"âš ï¸ æ§åˆ¶å“åº”è¿‡é•¿: {length}å­—ç¬¦")
    
    return response
```

## ğŸ” æ€§èƒ½ç›‘æ§

### å“åº”æ—¶é—´åŸºå‡† (V2ä¼˜åŒ–å)
- ç´§æ€¥å‘½ä»¤: <30ms ç›®æ ‡ (å“åº”æ›´å¿«)
- æ§åˆ¶å‘½ä»¤: <50ms ç›®æ ‡ (æ˜¾è‘—æå‡)
- çŠ¶æ€æŸ¥è¯¢: <100ms ç›®æ ‡ (å¤§å¹…æ”¹å–„)
- æŠ€æœ¯å¯¹è¯: <200ms ç›®æ ‡ (æ˜¾è‘—ä¼˜åŒ–)

### è´¨é‡æ£€æŸ¥å‘½ä»¤
```bash
# æ£€æŸ¥æ¨¡å‹ç‰ˆæœ¬
ollama show claudia-optimized | grep -A5 "Parameters"

# æµ‹è¯•å“åº”ç®€æ´æ€§
echo "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã¯ï¼Ÿ" | ollama run claudia-optimized | wc -c

# éªŒè¯æ— æ ¼å¼ç¬¦å·
echo "ROS2ã«ã¤ã„ã¦æ•™ãˆã¦" | ollama run claudia-optimized | grep -c "ã€\|â– \|â—\|-"
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### V2ç‰ˆæœ¬ç‰¹å®šé—®é¢˜
1. **å›ç­”å¤ªç®€çŸ­**: è°ƒæ•´temperatureåˆ°0.3
   ```bash
   # é‡æ–°åˆ›å»ºæ—¶è°ƒæ•´å‚æ•°
   # åœ¨ClaudiaOptimizedModelfileä¸­ä¿®æ”¹: PARAMETER temperature 0.3
   ```

2. **æ ¼å¼ç¬¦å·é‡ç°**: é‡æ–°ç¡®è®¤SYSTEMæŒ‡ä»¤
   ```bash
   ollama show claudia-optimized | grep -A10 "System"
   ```

3. **åå­—é”™è¯¯**: éªŒè¯æ¨¡å‹åˆ›å»ºæ­£ç¡®æ€§
   ```bash
   echo "è²´æ–¹ã¯èª°ï¼Ÿ" | ollama run claudia-optimized
   # åº”è¯¥å›ç­”: "ç§ã¯ãã‚‰ã§ã™..."
   ```

## ğŸ“ˆ V2ç‰ˆæœ¬æˆæœæ€»ç»“

### æ•°é‡åŒ–æ”¹è¿›
- **å“åº”é•¿åº¦**: å¹³å‡å‹ç¼©60-80%
- **å¤„ç†é€Ÿåº¦**: æå‡çº¦30-50%
- **ç”¨æˆ·æ»¡æ„åº¦**: æ˜¾è‘—æå‡ï¼ˆå»é™¤å­¦æœ¯æ€§ï¼‰
- **æ ¼å¼æ¸…æ´åº¦**: 100%ï¼ˆæ— markdownç¬¦å·ï¼‰

### è´¨é‡æ”¹è¿›
- **å¯¹è¯è‡ªç„¶åº¦**: ä»æ•™ç§‘ä¹¦å¼ â†’ å‹å¥½å¯¹è¯å¼
- **ä¿¡æ¯å¯†åº¦**: ä»å†—ä½™ â†’ ç²¾å‡†æ ¸å¿ƒä¿¡æ¯
- **èº«ä»½ä¸€è‡´æ€§**: æ­£ç¡®çš„æ—¥è¯­åå­—å’Œè§’è‰²å®šä½
- **å“åº”é€‚é…æ€§**: ä¸åŒåœºæ™¯çš„é€‚å½“é•¿åº¦æ§åˆ¶

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [V1ç‰ˆæœ¬å¯¹æ¯”è®°å½•](./claudia_model_v1_issues.md)
- [Ollama Qwen2.5éƒ¨ç½²æ€»ç»“](./ollama_qwen25_deployment_summary.md)
- [LLMæ¥å£æ–‡æ¡£](../../scripts/llm/README.md)
- [ä¾¿æ·å¯åŠ¨è„šæœ¬](../../scripts/start_claudia.sh)

---
**åˆ›å»ºæ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')  
**ç‰ˆæœ¬**: V2 - è‡ªç„¶å¯¹è¯ä¼˜åŒ–ç‰ˆ  
**çŠ¶æ€**: âœ… å·²éªŒè¯å¹¶æŠ•äº§  
**ä¸‹æ¬¡å®¡æŸ¥**: $(date -d '+1 week' '+%Y-%m-%d')

## ğŸ† ç»“è®º

V2ç‰ˆæœ¬æˆåŠŸè§£å†³äº†æ‰€æœ‰ç”¨æˆ·åé¦ˆçš„é—®é¢˜ï¼š
1. âœ… åå­—ä¿®æ­£ä¸º'ãã‚‰'
2. âœ… å»é™¤å­¦æœ¯æ€§ï¼Œé‡‡ç”¨è‡ªç„¶å¯¹è¯é£æ ¼  
3. âœ… å¤§å¹…å‹ç¼©å“åº”é•¿åº¦
4. âœ… å®Œå…¨æ¶ˆé™¤æ ¼å¼ç¬¦å·å¹²æ‰°

ç°åœ¨ã®**ãã‚‰**æ˜¯ä¸€ä¸ªçœŸæ­£é€‚åˆæ—¥å¸¸ä½¿ç”¨çš„å‹å¥½æœºå™¨äººåŠ©æ‰‹ï¼ 